{% extends "layout.html.twig" %}

{% block header %}
    {% include "partials/_header.html.twig" %}
{% endblock %}

{% block main %}

    <a href="index.php?route=affichage_expenses&id={{groups}}" class="btn-secondary">&larr; Retour</a>

    {% if errors is defined and errors is not empty %}
        <div class="alert alert-danger">
        <ul>
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <h1 style="text-align:center;">Ajouter une dépense</h1>

    <form method="POST" action=""> 
        <label for="expense" class="form-label">Intitulé de la dépense:</label>
        <input type="text" name="expense_name" required placeholder="Ex: Courses">
        
        <label for="expense_category" class="form-label">Catégorie:</label>
        <select name="category">
            <option value="" selected disabled>Sélectionnez une catégorie</option>
            {% for category in categorys %}
                <option value="{{category.label}}">{{category.label}}</option>
            {% endfor %} 
        </select>
        
        <label for="expense_amount" class="form-label">Montant (€):</label>
        <input type="number" step="0.01" name="expense_amount" required placeholder="0.00">
        
        <label for="user-select">Qui a payé ?</label>
        <select name="user_id" id="user-select" required>
            <option value="" selected disabled>Sélectionner un nom</option>
            {% for groupUser in groupUsers %}
                <option value="{{ groupUser.getId() }}">{{ groupUser.getFirstname() }}</option>
            {% endfor %}
        </select>   
        
        <label for="date-saisie">Date:</label>
        <input type="date" id="date-saisie" name="expense_date" required>
        
        <fieldset>
            <button type="submit" class="btn btn-primary">Valider</button>
        </fieldset>
    </form>

{% endblock %}