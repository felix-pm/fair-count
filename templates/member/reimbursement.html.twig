{% extends "layout.html.twig" %}

{% block header %}
    {% include "partials/_header.html.twig" %}
{% endblock %}

{% extends "layout.html.twig" %}

{% block title %}Remboursements{% endblock %}

{% block main %}
<div class="container-reimbursement">
    <h2>‚öñÔ∏è √âquilibre des comptes</h2>
    
    <div class="actions">
        {# Lien de retour vers les d√©penses du groupe #}
        <a href="index.php?route=expenses&id={{ group_id }}" class="btn-secondary">
            &larr; Retour aux d√©penses
        </a>
    </div>

    <hr>

    <div class="reimbursement-list">
        {% if plan is empty %}
            <div class="alert-success">
                <h3>üéâ Tout est √©quilibr√© !</h3>
                <p>Personne ne doit rien √† personne dans ce groupe.</p>
            </div>
        {% else %}
            <p>Voici les virements optimis√©s pour rembourser tout le monde :</p>
            
            <ul class="transaction-list">
                {% for transaction in plan %}
                    <li class="transaction-card">
                        <div class="debtor">
                            <strong>{{ transaction.from }}</strong>
                        </div>
                        
                        <div class="amount-arrow">
                            <span class="amount">{{ transaction.amount }} ‚Ç¨</span>
                            <span class="arrow">&rarr;</span>
                            <small>doit payer √†</small>
                        </div>

                        <div class="creditor">
                            <strong>{{ transaction.to }}</strong>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
</div>
{% endblock %}